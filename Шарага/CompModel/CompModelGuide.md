# **Интерфейс:**
1. Процессор
2. Память
3. Программа
4. Текст программы
5. Модель учебной ЭВМ

![[Процессор.jpg]]
![[Память.jpg]]
![[Программа.jpg]]
![[Текст программы.jpg]]
![[Учебная модель ЭВМ.jpg]]

В окне "Текст программы" мы пишем сам текст программы. В CompModel язык программирования очень схож с ассемблером. Основные команды:
- add (сложение)
- sub (вычитание)
- mul (умножение)
- div (деление)
- rd (чтение откуда-то в аккумулятор)
- wr (запись из аккумулятора куда-то )
- in (чтение из регистра IR в аккумулятор)
- out (вывод из аккумулятора в регистр OR)
- js (в ходе вычисления если регистр s(sign) оказывается равен 1, то счётчик комманд будет изменен на число после команды(далее на примере будет понятнее))
- jns (в ходе вычислений если регистр s равен нулю то будет осуществлен переход)
- jz (тут тоже самое что и с js, но уже отслеживается состояние регистра z(zero))
- jnz(тут тоже самое что и с jns, но отслеживается состояние регистра z)
- jmp (тут просто будет осуществлен переход на другую строку)
Регистры искать в окне "Процессор"

Примеры использования команд(все числа условны, аккумулятор это временное хранилище внутри процессора, Acc):


| Комманда | Аккумулятор до | Аккумулятор после | Ячейка памяти по адресу 10 |
| -------- | -------------- | ----------------- | -------------------------- |
| add #3   | 0              | 3                 | 0                          |
| sub #1   | 3              | 2                 | 0                          |
| mul #2   | 2              | 4                 | 0                          |
| div #2   | 4              | 2                 | 0                          |
| wr 10    | 2              | 2                 | 2                          |
| rd 10    | 2              | 2                 | 2                          |


Чтобы работать с числами, а не с адресами, необходимо 
перед числом или цифрой в тексте программы ставить знак "#", а затем без пробелов число.

# **Как все таки писать программы**
Запишем самую простую программу:

```CompModel
in
out

```
текст программы записывается в окно "Текст программы", после чего программа компилируется, либо на кнопку либо через верхнее меню(просто наводишь на все кнопки и ищешь "компилировать").
После чего можно заметить, что в окне программа появились две команды, а так же во вкладке память, в первой строке, первом и втором столбце(001 и 002 ячейки памяти) появились машинные коды нашего первого "приложения".
В окне "Процессор" найдем регистр IR. установим там число 000007. 
В окне "Учебная модель ЭВМ" нажмём на "Шаг" и наблюдаем на "Программа" и "Процессор". Смотрим чтобы стрелочка в "Программа" сдвинулась вниз, а в процессоре смотрим на Acc, увидим, что его значение 000007. нажимаем шаг, и видим, что стрелка сдвинулась вперед, значение аккумулятора не изменилось, а значение регистра OR стало 000007, если все так, то вы сделали все правильно.

Далее поработаем с памятью:
напишем программу, которая считает значение выражения:
$a^2-(5a-1)$

```CompModel
rd 20
mul #5
sub #1
wr 21
rd 20
mul 20
sub 21
out
```
Как можно заметить, сначала мы  считаем $(5а-1)$, и лишь потом $а^2$, так как, так банально удобнее, посмотрите на код еще раз, и попытайтесь его понять!
Для простоты, дальше будут таблицы, помогающие понять, куда, где и что мы храним в памяти

|     | 000                | 001      | 002      | 003               |
| --- | ------------------ | -------- | -------- | ----------------- |
| 000 | тут коды программы | тут тоже | тут тоже | и тут и так далее |
| 010 |                    |          |          |                   |
| 020 | a                  | $5а-1$   |          |                   |
| 030 |                    |          |          |                   |

Чтош, чтобы выполнить эту программу, необходимо:
- [ ] Написать программу
- [ ] Скомпилировать программу
- [ ] Очистить процессор(Большая красная буква R в окне "процессор")
- [ ] Выполнить программу по шагам, заполнить таблицу

| Название команды | Значение аккумулятора | Значение 20 ячейки памяти | Значение 21 ячейки памяти | Значение регистра OR |
| :--------------: | :-------------------: | :-----------------------: | :-----------------------: | :------------------: |
|      rd 20       |                       |                           |                           |                      |
|      mul #5      |                       |                           |                           |                      |
|      sub #1      |                       |                           |                           |                      |
|      wr 21       |                       |                           |                           |                      |
|      rd 20       |                       |                           |                           |                      |
|      mul 20      |                       |                           |                           |                      |
|      sub 21      |                       |                           |                           |                      |
|       out        |                       |                           |                           |                      |
Не забывайте чистить процессор, при перезапуске всех программ, и если работали с памятью, не забывайте чистить и её(это кнопка "убрать" в окне память)

### Если остались вопросы —пишите